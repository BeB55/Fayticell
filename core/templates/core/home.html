{% extends "core/base.html" %}
{% load static %}

{% block content %}
<!-- Banner Carrusel full-width con altura fija -->
<div id="bannerCarousel" class="carousel slide" data-bs-ride="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="{% static 'core/img/Horarios.jpg' %}" class="d-block w-100" alt="Horarios Fayticell" style="height:400px; object-fit:cover;">
    </div>
    <div class="carousel-item">
      <img src="{% static 'core/img/horario2.jpg' %}" class="d-block w-100" alt="Servicios Fayticell" style="height:400px; object-fit:cover;">
    </div>
    <div class="carousel-item">
      <img src="{% static 'core/img/banner3.jpg' %}" class="d-block w-100" alt="Nosotros Fayticell" style="height:400px; object-fit:cover;">
    </div>
  </div>

  <!-- Controles -->
  <button class="carousel-control-prev" type="button" data-bs-target="#bannerCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon"></span>
    <span class="visually-hidden">Anterior</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#bannerCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon"></span>
    <span class="visually-hidden">Siguiente</span>
  </button>
</div>

<!-- Sección de productos con sidebar -->
<div class="container my-5">
  <div class="row">
    <!-- Sidebar -->
<aside class="col-md-3 mb-4">
  <div class="card shadow-sm">
    <div class="card-header bg-primary text-white">
      Categorías
    </div>
    <ul class="list-group list-group-flush">
      <li class="list-group-item"><a href="#">Celulares</a></li>
      <li class="list-group-item"><a href="#">Accesorios</a></li>
      <li class="list-group-item"><a href="#">Repuestos</a></li>
      <li class="list-group-item"><a href="#">Servicios</a></li>
    </ul>
  </div>
</aside>


    <!-- Productos -->
    <div class="col-md-9">
      <h2 class="text-center mb-4 text-primary">Productos destacados</h2>
      <div class="row">
        {% for producto in productos %}
        <div class="col-md-4 mb-4">
          <div class="card h-100 shadow-sm border-0">
            <div class="position-relative">
              <img src="{{ producto.imagen.url }}" class="card-img-top" alt="{{ producto.nombre }}">
              {% if producto.destacado %}
              <span class="badge bg-success position-absolute top-0 start-0 m-2">Destacado</span>
              {% endif %}
            </div>
            <div class="card-body">
              <h5 class="card-title">{{ producto.nombre }}</h5>
              <p class="card-text text-muted">{{ producto.descripcion|truncatewords:20 }}</p>
              <p class="fw-bold">Precio: ${{ producto.precio }}</p>
              <a href="{% url 'detalle_producto' producto.id %}" class="btn btn-outline-primary w-100">Ver más</a>
            </div>
          </div>
        </div>
        {% empty %}
        <p class="text-center text-muted">Todavía no hay productos destacados.</p>
        {% endfor %}
      </div>
    </div>
  </div>
</div>
{% endblock %}
