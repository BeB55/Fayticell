{% extends "base.html" %}

{% block content %}
<div class="container my-4">
  <!-- Encabezado -->
  <div class="row mb-4">
    <div class="col-12 d-flex align-items-center">
      <div class="flex-grow-1 border-top border-primary me-3"></div>
      <h2 class="text-primary me-3 mb-0">Editar perfil</h2>
      <div class="flex-grow-1 border-top border-primary ms-3"></div>
    </div>
  </div>

  <!-- Formulario -->
  <form method="post" novalidate>
      {% csrf_token %}

      <!-- Username -->
      <div class="mb-3">
        {{ user_form.username.label_tag }}
        <input type="text" 
               name="{{ user_form.username.name }}" 
               value="{{ user_form.username.value|default_if_none:'' }}" 
               class="form-control {% if user_form.username.errors %}is-invalid{% elif user_form.username.value %}is-valid{% endif %}">
        {% for error in user_form.username.errors %}
          <div class="invalid-feedback">{{ error }}</div>
        {% endfor %}
      </div>

      <!-- Email -->
      <div class="mb-3">
        {{ user_form.email.label_tag }}
        <input type="email" 
               name="{{ user_form.email.name }}" 
               value="{{ user_form.email.value|default_if_none:'' }}" 
               class="form-control {% if user_form.email.errors %}is-invalid{% elif user_form.email.value %}is-valid{% endif %}">
        {% for error in user_form.email.errors %}
          <div class="invalid-feedback">{{ error }}</div>
        {% endfor %}
      </div>

      <!-- TelÃ©fono -->
      <div class="mb-3">
        {{ profile_form.telefono.label_tag }}
        <input type="text" 
               name="{{ profile_form.telefono.name }}" 
               value="{{ profile_form.telefono.value|default_if_none:'' }}" 
               class="form-control {% if profile_form.telefono.errors %}is-invalid{% elif profile_form.telefono.value %}is-valid{% endif %}">
        {% for error in profile_form.telefono.errors %}
          <div class="invalid-feedback">{{ error }}</div>
        {% endfor %}
      </div>

      <button type="submit" class="btn btn-success">Guardar cambios</button>
      <a href="{% url 'mi_cuenta' %}" class="btn btn-secondary">Cancelar</a>
  </form>
</div>
{% endblock %}
